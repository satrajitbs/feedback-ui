<div class="form-container">
  <h2>Feedback Form</h2>
  <form [formGroup]="feedbackForm" (ngSubmit)="onSubmit()">
    <div class="form-field">
      <label for="name">Name</label>
      <input 
        type="text" 
        pInputText 
        id="name" 
        formControlName="name"
        placeholder="Enter your name"
      >
      <small *ngIf="feedbackForm.controls.name.invalid && feedbackForm.controls.name.touched" class="p-error">
        Name is required (min 3 characters)
      </small>
    </div>

    <div class="form-field">
      <label for="email">Email</label>
      <input 
        type="email" 
        pInputText 
        id="email" 
        formControlName="email"
        placeholder="Enter your email"
      >
      <small *ngIf="feedbackForm.controls.email.invalid && feedbackForm.controls.email.touched" class="p-error">
        Valid email is required
      </small>
    </div>

    <div class="form-field">
      <label for="feedback">Feedback</label>
      <textarea
        pInputText
        id="feedback"
        formControlName="feedback"
        placeholder="Enter your feedback"
        rows="5"
      ></textarea>
      <small *ngIf="feedbackForm.controls.feedback.invalid && feedbackForm.controls.feedback.touched" class="p-error">
        Feedback is required (min 10 characters)
      </small>
    </div>

    <div class="form-field">
      <label>Rating</label>
      <p-rating 
        formControlName="rating"
        [cancel]="false"
        [stars]="5"
        aria-label="Rating"
      ></p-rating>
      <small *ngIf="feedbackForm.controls.rating.invalid && feedbackForm.controls.rating.touched" class="p-error">
        Minimum 1 star rating required
      </small>
    </div>

    <div class="button-group">
      <p-button 
        type="submit" 
        label="Submit Feedback" 
        [loading]="loading()"
        [disabled]="feedbackForm.invalid"
      ></p-button>
    </div>
  </form>
</div>
